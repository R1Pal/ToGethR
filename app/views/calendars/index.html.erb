<div class="container">
  <div class="row" data-controller="calendar">

    <input type="hidden" value="<%= Task.where(user: User.where(couple_id: current_user.couple)).pluck(:date).map { |date| date.strftime("%Y-%m-%d")} %>" data-calendar-target="taskDates">
    <input type="hidden" value="<%= Reward.where(user: User.where(couple_id: current_user.couple)).pluck(:date).map { |date| date.strftime("%Y-%m-%d")} %>" data-calendar-target="rewardDates">

    <%= month_calendar do |date| %>
      <span data-calendar-target="targetDate" data-action="click->calendar#showEvents"><%= date.day %></span>
    <% end %>

    <div class="row">
      <%= render 'calendars/events', tasks: @tasks, rewards: @rewards %>
    </div>

  </div>
</div>
